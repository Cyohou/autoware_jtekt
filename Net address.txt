map→base_link TF 被刷成 NaN；tf2_echo 显示 TF 树断裂。
EKF (/localization/pose_twist_fusion_filter/pose) 初值正常，但迅速出现 NaN；twist 线/角速度爆到 1e37。
定位链改造步骤

确认局部 ENU 方案：保留 OXTS lrf_source=1（第一帧定义局部坐标），所有链路围绕局部系运行。
Pose Initializer
pose_initializer.launch.xml: gnss_enabled=true、ndt_enabled=false、auto_gnss_initialize=true、gnss_use_map_fit=false。
pose_initializer/gnss_module.cpp:
新增 std::isfinite 检查。
仅在 use_map_fit_ 且服务 ready 时调用 map-fit；设置 1s 超时。
无论是否 map-fit，都给姿态协方差设置下限 (roll/pitch 0.01, yaw 0.1)。
initial_pose_adaptor.cpp: /initialpose3d 发布前同样为姿态协方差填充下限，避免 0。
GNSS 透传 (ndt_scan_matcher)
保留 GNSS passthrough 发布 /localization/pose_estimator/pose_with_covariance。
透传时若 frame_id != map，走 TF 转换；同时给协方差 21/28/35 写入下限；镜像到 NDT 输出时同样处理。
读取参数 output_pose_covariance 后立即为姿态分量加上下限。
观测协方差兜底
上述改动确保 EKF 收到的姿态量测不再是 0 协方差，从而不会把 GNSS yaw 当“绝对真值”。
如果后续需要进一步减小 yaw 影响，还可以在 EKF 中调大 yaw 协方差或屏蔽 yaw 测量。
当前状态

/localization/pose_twist_fusion_filter/pose、/tf 均已稳定；不再出现 NaN。
/initialpose3d、map→base_link TF 与局部 GNSS 坐标保持一致，EKF 输出平滑。
tf2_echo 能持续打印正常的变换；GNSS-only 链路按预期运行。
